{"ast":null,"code":"import _regeneratorRuntime from\"/Users/amandagifford/SoftwareEngineering/ThriveTogetherFrontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/amandagifford/SoftwareEngineering/ThriveTogetherFrontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/amandagifford/SoftwareEngineering/ThriveTogetherFrontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";function PeerButton(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),addSuccess=_useState2[0],setAddSuccess=_useState2[1];function handleAddPeer(_x){return _handleAddPeer.apply(this,arguments);}function _handleAddPeer(){_handleAddPeer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var data,peerUrl,fetchConfig,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();data={sender:props.senderId,recipient:props.recipientId,status:\"pending\",has_messaged:false,sender_name:props.senderName,recipient_name:props.recipientName};peerUrl=\"\".concat(process.env.REACT_APP_API_HOST,\"/connections/create\");fetchConfig={method:\"post\",body:JSON.stringify(data),headers:{\"Content-Type\":\"application/json\"},credentials:\"include\"};_context.next=6;return fetch(peerUrl,fetchConfig);case 6:response=_context.sent;if(response.ok){setAddSuccess(true);}case 8:case\"end\":return _context.stop();}}},_callee);}));return _handleAddPeer.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{children:addSuccess?/*#__PURE__*/_jsx(\"div\",{className:\"btn btn-primary\",children:\"Success!\"}):/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleAddPeer,children:\"Add Peer\"})});}export default PeerButton;","map":{"version":3,"names":["React","useState","PeerButton","props","addSuccess","setAddSuccess","handleAddPeer","event","preventDefault","data","sender","senderId","recipient","recipientId","status","has_messaged","sender_name","senderName","recipient_name","recipientName","peerUrl","process","env","REACT_APP_API_HOST","fetchConfig","method","body","JSON","stringify","headers","credentials","fetch","response","ok"],"sources":["/Users/amandagifford/SoftwareEngineering/ThriveTogetherFrontend/src/PeerButton.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nfunction PeerButton(props) {\n  const [addSuccess, setAddSuccess] = useState(false);\n\n  async function handleAddPeer(event) {\n    event.preventDefault();\n    const data = {\n      sender: props.senderId,\n      recipient: props.recipientId,\n      status: \"pending\",\n      has_messaged: false,\n      sender_name: props.senderName,\n      recipient_name: props.recipientName,\n    };\n    const peerUrl = `${process.env.REACT_APP_API_HOST}/connections/create`;\n    const fetchConfig = {\n      method: \"post\",\n      body: JSON.stringify(data),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      credentials: \"include\",\n    };\n    const response = await fetch(peerUrl, fetchConfig);\n    if (response.ok) {\n      setAddSuccess(true);\n    }\n  }\n\n  return (\n    <div>\n      {addSuccess ? (\n        <div className=\"btn btn-primary\">Success!</div>\n      ) : (\n        <button className=\"btn btn-primary\" onClick={handleAddPeer}>\n          Add Peer\n        </button>\n      )}\n    </div>\n  );\n}\n\nexport default PeerButton;\n"],"mappings":"+cAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,C,2CAEA,QAASC,WAAT,CAAoBC,KAApB,CAA2B,CACzB,cAAoCF,QAAQ,CAAC,KAAD,CAA5C,wCAAOG,UAAP,eAAmBC,aAAnB,eADyB,QAGVC,cAHU,qJAGzB,iBAA6BC,KAA7B,0JACEA,KAAK,CAACC,cAAN,GACMC,IAFR,CAEe,CACXC,MAAM,CAAEP,KAAK,CAACQ,QADH,CAEXC,SAAS,CAAET,KAAK,CAACU,WAFN,CAGXC,MAAM,CAAE,SAHG,CAIXC,YAAY,CAAE,KAJH,CAKXC,WAAW,CAAEb,KAAK,CAACc,UALR,CAMXC,cAAc,CAAEf,KAAK,CAACgB,aANX,CAFf,CAUQC,OAVR,WAUqBC,OAAO,CAACC,GAAR,CAAYC,kBAVjC,wBAWQC,WAXR,CAWsB,CAClBC,MAAM,CAAE,MADU,CAElBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAenB,IAAf,CAFY,CAGlBoB,OAAO,CAAE,CACP,eAAgB,kBADT,CAHS,CAMlBC,WAAW,CAAE,SANK,CAXtB,uBAmByBC,MAAK,CAACX,OAAD,CAAUI,WAAV,CAnB9B,QAmBQQ,QAnBR,eAoBE,GAAIA,QAAQ,CAACC,EAAb,CAAiB,CACf5B,aAAa,CAAC,IAAD,CAAb,CACD,CAtBH,sDAHyB,gDA4BzB,mBACE,qBACGD,UAAU,cACT,YAAK,SAAS,CAAC,iBAAf,sBADS,cAGT,eAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAEE,aAA7C,sBAJJ,EADF,CAWD,CAED,cAAeJ,WAAf"},"metadata":{},"sourceType":"module"}