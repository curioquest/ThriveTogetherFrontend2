{"ast":null,"code":"import _regeneratorRuntime from\"/Users/amandagifford/SoftwareEngineering/ThriveTogetherFrontend2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/amandagifford/SoftwareEngineering/ThriveTogetherFrontend2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/amandagifford/SoftwareEngineering/ThriveTogetherFrontend2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AccountInfo=function AccountInfo(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userId=_useState2[0],setUserId=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),accountInfo=_useState4[0],setAccountInfo=_useState4[1];function getAccountInfo(){return _getAccountInfo.apply(this,arguments);}function _getAccountInfo(){_getAccountInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var url,response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;url=\"\".concat(process.env.REACT_APP_API_HOST,\"/api/accounts/\").concat(userId);_context2.next=4;return fetch(url,{credentials:\"include\",headers:{'Access-Control-Allow-Origin':'https://oyster-app-cxtg3.ondigitalocean.app','Access-Control-Allow-Methods':'GET,PUT,POST,DELETE,PATCH,OPTIONS','Content-Type':'application/json'// 'Content-Type': 'application/x-www-form-urlencoded'\n}});case 4:response=_context2.sent;_context2.next=7;return response.json();case 7:data=_context2.sent;if(response.ok){setAccountInfo(data);}else{console.log(\"Account info could not be found\");}_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);console.error(\"Error fetching account info:\",_context2.t0);case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return _getAccountInfo.apply(this,arguments);}var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return getAccountInfo();case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"content-container bg-text rounded-edges d-flex justify-content-center\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-header\",children:\"Get Account Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"User ID:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:userId,onChange:function onChange(e){return setUserId(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"br\",{})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"btn btn-primary\",type:\"submit\",value:\"Submit\"})})]}),/*#__PURE__*/_jsx(\"br\",{}),accountInfo&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h5\",{children:[\"Account Information: \",userId]}),/*#__PURE__*/_jsx(\"pre\",{children:JSON.stringify(accountInfo,null,2)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:\"/update\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"btn btn-primary\",type:\"submit\",value:\"Update\"})})}),/*#__PURE__*/_jsx(\"br\",{})]})]})]});};export default AccountInfo;","map":{"version":3,"names":["React","useState","Link","AccountInfo","userId","setUserId","accountInfo","setAccountInfo","getAccountInfo","url","process","env","REACT_APP_API_HOST","fetch","credentials","headers","response","json","data","ok","console","log","error","handleSubmit","e","preventDefault","target","value","JSON","stringify"],"sources":["/Users/amandagifford/SoftwareEngineering/ThriveTogetherFrontend2/src/AccountInfo.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst AccountInfo = () => {\n    const [userId, setUserId] = useState('');\n    const [accountInfo, setAccountInfo] = useState('');\n\n    async function getAccountInfo() {\n        try {\n            let url = `${process.env.REACT_APP_API_HOST}/api/accounts/${userId}`;\n            let response = await fetch(url, {\n                credentials: \"include\",\n                headers: {\n                    'Access-Control-Allow-Origin' : 'https://oyster-app-cxtg3.ondigitalocean.app',\n                    'Access-Control-Allow-Methods':'GET,PUT,POST,DELETE,PATCH,OPTIONS',\n                    'Content-Type': 'application/json'\n                    // 'Content-Type': 'application/x-www-form-urlencoded'\n                }\n            });\n            let data = await response.json();\n\n            if (response.ok) {\n                setAccountInfo(data);\n            } else {\n                console.log(\"Account info could not be found\");\n            }\n        } catch (error) {\n            console.error(\"Error fetching account info:\", error);\n        }\n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        await getAccountInfo();\n    };\n\n    return (\n        <div className='content-container bg-text rounded-edges d-flex justify-content-center'>\n            <h5 className='card-header'>Get Account Information</h5>\n            <div className='card-body'>\n                <form onSubmit={handleSubmit}>\n                    <br></br>\n                    <label>\n                        User ID:\n                        <input\n                            type=\"text\"\n                            value={userId}\n                            onChange={(e) => setUserId(e.target.value)}\n                        />\n                    </label>\n                    <div>\n                        <br></br>\n                    </div>\n                    <div>\n                        <input className='btn btn-primary' type='submit' value='Submit' />\n                    </div>\n                </form>\n                <br></br>\n                {accountInfo && (\n                    <div >\n                        <h5>Account Information: {userId}</h5>\n                        <pre>{JSON.stringify(accountInfo, null, 2)}</pre>\n                        <br></br>\n                        <Link to={`/update`}>\n                                <div>\n                                    <input className='btn btn-primary' type='submit' value='Update' />\n                                </div>\n                        </Link>\n                        <br></br>\n                    </div>\n                )}\n        </div>\n        </div>\n    );\n};\n\nexport default AccountInfo;\n"],"mappings":"kdAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,EAAM,CACtB,cAA4BF,QAAQ,CAAC,EAAD,CAApC,wCAAOG,MAAP,eAAeC,SAAf,eACA,eAAsCJ,QAAQ,CAAC,EAAD,CAA9C,yCAAOK,WAAP,eAAoBC,cAApB,eAFsB,QAIPC,eAJO,sJAItB,iLAEYC,GAFZ,WAEqBC,OAAO,CAACC,GAAR,CAAYC,kBAFjC,0BAEoER,MAFpE,yBAG6BS,MAAK,CAACJ,GAAD,CAAM,CAC5BK,WAAW,CAAE,SADe,CAE5BC,OAAO,CAAE,CACL,8BAAgC,6CAD3B,CAEL,+BAA+B,mCAF1B,CAGL,eAAgB,kBAChB;AAJK,CAFmB,CAAN,CAHlC,QAGYC,QAHZ,uCAYyBA,SAAQ,CAACC,IAAT,EAZzB,QAYYC,IAZZ,gBAcQ,GAAIF,QAAQ,CAACG,EAAb,CAAiB,CACbZ,cAAc,CAACW,IAAD,CAAd,CACH,CAFD,IAEO,CACHE,OAAO,CAACC,GAAR,CAAY,iCAAZ,EACH,CAlBT,qFAoBQD,OAAO,CAACE,KAAR,CAAc,8BAAd,eApBR,uEAJsB,iDA4BtB,GAAMC,aAAY,4FAAG,iBAAOC,CAAP,oHACjBA,CAAC,CAACC,cAAF,GADiB,sBAEXjB,eAAc,EAFH,uDAAH,kBAAZe,aAAY,4CAAlB,CAKA,mBACI,aAAK,SAAS,CAAC,uEAAf,wBACI,WAAI,SAAS,CAAC,aAAd,qCADJ,cAEI,aAAK,SAAS,CAAC,WAAf,wBACI,cAAM,QAAQ,CAAEA,YAAhB,wBACI,aADJ,cAEI,iDAEI,cACI,IAAI,CAAC,MADT,CAEI,KAAK,CAAEnB,MAFX,CAGI,QAAQ,CAAE,kBAACoB,CAAD,QAAOnB,UAAS,CAACmB,CAAC,CAACE,MAAF,CAASC,KAAV,CAAhB,EAHd,EAFJ,GAFJ,cAUI,kCACI,aADJ,EAVJ,cAaI,kCACI,cAAO,SAAS,CAAC,iBAAjB,CAAmC,IAAI,CAAC,QAAxC,CAAiD,KAAK,CAAC,QAAvD,EADJ,EAbJ,GADJ,cAkBI,aAlBJ,CAmBKrB,WAAW,eACR,oCACI,8CAA0BF,MAA1B,GADJ,cAEI,qBAAMwB,IAAI,CAACC,SAAL,CAAevB,WAAf,CAA4B,IAA5B,CAAkC,CAAlC,CAAN,EAFJ,cAGI,aAHJ,cAII,KAAC,IAAD,EAAM,EAAE,UAAR,uBACQ,kCACI,cAAO,SAAS,CAAC,iBAAjB,CAAmC,IAAI,CAAC,QAAxC,CAAiD,KAAK,CAAC,QAAvD,EADJ,EADR,EAJJ,cASI,aATJ,GApBR,GAFJ,GADJ,CAsCH,CAvED,CAyEA,cAAeH,YAAf"},"metadata":{},"sourceType":"module"}